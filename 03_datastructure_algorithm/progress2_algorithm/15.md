### 5. 그래프 알고리즘 - 깊이 우선 탐색 (DFS)

#### 이론
**깊이 우선 탐색 (Depth First Search, DFS)**: DFS는 그래프나 트리에서 출발 노드에서 시작하여 경로를 따라 가능한 멀리 있는 노드까지 탐색하는 알고리즘입니다.
- **동작 과정**:
  1. 시작 노드를 방문하고, 방문한 노드로부터 출발하는 모든 경로를 따라 최대한 멀리 이동합니다.
  2. 더 이상 갈 수 없으면, 마지막으로 방문한 노드로 돌아와 다른 경로를 탐색합니다.
  3. 모든 노드를 방문할 때까지 이 과정을 반복합니다.
- **시간복잡도**: O(V + E) (V: 노드의 수, E: 간선의 수)
- **공간복잡도**: O(V) (재귀 호출로 인해 호출 스택에 저장되는 최대 노드 수)

#### 예시 그래프
다음은 예시 그래프입니다.

```
   1
  / \
 2   3
/ \   \
4  5   6
```

#### 동작 과정
이 그래프에서 DFS의 동작 과정을 설명하겠습니다.

1. 시작 노드 1을 방문합니다.
2. 노드 1의 인접 노드 2를 방문합니다.
3. 노드 2의 인접 노드 4를 방문합니다.
4. 노드 4는 더 이상 방문할 노드가 없으므로, 노드 2로 돌아갑니다.
5. 노드 2의 다음 인접 노드 5를 방문합니다.
6. 노드 5는 더 이상 방문할 노드가 없으므로, 노드 2로 돌아갑니다.
7. 노드 2는 모든 인접 노드를 방문했으므로, 노드 1로 돌아갑니다.
8. 노드 1의 다음 인접 노드 3을 방문합니다.
9. 노드 3의 인접 노드 6을 방문합니다.
10. 노드 6은 더 이상 방문할 노드가 없으므로, 노드 3으로 돌아갑니다.
11. 노드 3은 모든 인접 노드를 방문했으므로, 노드 1로 돌아갑니다.
12. 노드 1은 모든 인접 노드를 방문했으므로, 탐색이 종료됩니다.

방문 순서: 1, 2, 4, 5, 3, 6

#### 구현
DFS 알고리즘을 Python으로 구현해보겠습니다. 재귀적 방법을 사용하여 구현하겠습니다.

```python
def dfs(graph, start, visited=None):
    if visited is None:
        visited = set()
    visited.add(start)
    print(start, end=' ')

    for next_node in graph[start]:
        if next_node not in visited:
            dfs(graph, next_node, visited)

# 예시 그래프
graph = {
    1: [2, 3],
    2: [4, 5],
    3: [6],
    4: [],
    5: [],
    6: []
}

dfs(graph, 1)
```

이 코드에서 `dfs` 함수는 재귀적으로 그래프를 탐색합니다. 시작 노드를 방문하고, 방문한 노드를 `visited` 집합에 추가합니다. 그런 다음, 시작 노드의 모든 인접 노드를 순회하며 방문하지 않은 노드에 대해 재귀적으로 `dfs` 함수를 호출합니다.

#### 실습
다음 코드를 직접 실행해보고, 다른 예시 그래프에 대해서도 테스트해 보세요.

```python
# 또 다른 예시 그래프
graph = {
    1: [2, 3],
    2: [4, 5],
    3: [7],
    4: [6],
    5: [],
    6: [],
    7: []
}

dfs(graph, 1)
```

#### 과제 및 해설
**과제**: 주어진 그래프에서 DFS를 구현하여 방문 순서를 출력하세요.
- 그래프:
  ```python
  graph = {
      1: [2, 3, 4],
      2: [5],
      3: [],
      4: [6, 7],
      5: [],
      6: [],
      7: [8],
      8: []
  }
  ```

**해설**:
```python
def dfs(graph, start, visited=None):
    if visited is None:
        visited = set()
    visited.add(start)
    print(start, end=' ')

    for next_node in graph[start]:
        if next_node not in visited:
            dfs(graph, next_node, visited)

# 예시 그래프
graph = {
    1: [2, 3, 4],
    2: [5],
    3: [],
    4: [6, 7],
    5: [],
    6: [],
    7: [8],
    8: []
}

dfs(graph, 1)
# 예상 방문 순서: 1, 2, 5, 3, 4, 6, 7, 8
```

이제 깊이 우선 탐색(DFS)의 동작 과정을 이해했으니, 다음으로 너비 우선 탐색(BFS) 알고리즘으로 넘어가겠습니다. 준비되셨나요?